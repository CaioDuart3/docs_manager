<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document Manager</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'documents/style.css' %}">
</head>

<body>

<h1>Documents</h1>

<!-- Barra de pesquisa -->
<form method="GET" action="">
    <input type="text" name="search" placeholder="Search documents..." value="{{ request.GET.search }}">
    <button type="submit">Search</button>
</form>

<!-- Bot√£o de upload -->
<a href="{% url 'documents_upload' %}">Upload Document</a>

<ul>
    {% for document in documents %}
        <li style="margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 10px;">
            <h2>{{ document.title }}</h2>
            <p>Uploaded at: {{ document.uploaded_at }}</p>
            
            <!-- N√∫mero de coment√°rios -->
            <p>Comments: {{ document.comments.count }}</p>

            <!-- Bot√µes de a√ß√£o -->
            <a href="{{ document.file.url }}" download>Download</a> |
            <a href="{% url 'documents_details' document.pk %}">üëÅÔ∏è View Details</a> |
            
            <!-- Bot√£o de exclus√£o -->
            <form method="POST" action="{% url 'documents_delete' document.pk %}" style="display:inline;">
                {% csrf_token %}
                <button type="submit" onclick="return confirm('Are you sure you want to delete this document?');">Delete</button>
            </form>
        </li>
    {% empty %}
        <li>No documents available.</li>
    {% endfor %}
</ul>
</body>
</html>